---
b: https://blendedfeelings.com/software/low-level/computer-architecture/address-translation.md
---

# CPU address translation 
refers to the process of converting a virtual address generated by a program into a physical address in main memory. This is an essential part of modern computing systems, which use virtual memory to allow programs to operate as if they have access to a larger amount of memory than is physically available.

Here is an overview of how address translation typically works:

1. **Virtual Address (VA):** When a program executes, it generates virtual addresses that refer to locations in its virtual address space. This space is a contiguous block of addresses that the program can use.

2. **Memory Management Unit (MMU):** The CPU includes a component called the Memory Management Unit, which is responsible for translating virtual addresses into physical addresses. 

3. **Page Table:** The operating system maintains a data structure called the page table, which maps virtual addresses to physical addresses. Each entry in the page table corresponds to a page of memory, which is a fixed-size block (often 4 KB).

4. **Translation Lookaside Buffer (TLB):** Because accessing the page table for every memory access would be slow, the MMU includes a cache called the Translation Lookaside Buffer. The TLB stores recent translations of virtual addresses to physical addresses to speed up the translation process.

The address translation process typically involves the following steps:

- The CPU generates a virtual address.
- The MMU checks the TLB for the translation.
- If the translation is in the TLB (a TLB hit), the physical address is quickly returned.
- If the translation is not in the TLB (a TLB miss), the MMU looks up the page table to find the corresponding physical address.
- If the page is in memory (not paged out), the physical address is used to access the memory.
- If the page is not in memory (paged out to disk), a page fault occurs, and the operating system must bring the page into memory from the disk, update the page table, and then proceed with the translation.

This process is critical for memory protection (ensuring that processes cannot access each other's memory), memory sharing (allowing processes to share the same physical memory), and efficient use of physical memory (allowing overcommitment of memory resources).